(window.webpackJsonpminiapp=window.webpackJsonpminiapp||[]).push([[0],{342:function(e,t,a){e.exports=a(646)},432:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},436:function(e,t,a){},453:function(e,t){},455:function(e,t){},485:function(e,t){},486:function(e,t){},530:function(e,t){},532:function(e,t){},555:function(e,t){},646:function(e,t,a){"use strict";a.r(t);a(343),a(369),a(371),a(372),a(374),a(375),a(376),a(377),a(378),a(379),a(380),a(381),a(383),a(384),a(385),a(386),a(387),a(388),a(389),a(390),a(391),a(392),a(394),a(395),a(396),a(397),a(398),a(399),a(400),a(401),a(402),a(403),a(404),a(405),a(406),a(407),a(408),a(409),a(410),a(411);var n=a(0),r=a.n(n),i=a(106),o=a.n(i),s=(a(419),a(420),a(8)),c=(a(432),a(433),a(434),a(5)),l=a.n(c),u=a(17),d=a(34),h=a(46),p=a(61),m=a(60),f=a(62),g=a(41),v=a(648),y=a(649),b=a(647),E=a(650),k=a(651),w=a(652),S=a(653),O=a(654),C=a(655),A=a(656),P=a(657),_=a(658),j=a(659),x=(a(436),a(109));a(110),a(39),a(105),a(438);function D(e,t){return Math.floor(Math.random()*(t-e+1))+e}function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T=["https://murmuring-bastion-20764.herokuapp.com/","https://vds2153919.my-ihor.ru:8088/"][D(0,1)],I=new(function(){function e(){Object(g.a)(this,e)}return Object(h.a)(e,[{key:"isAuth",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncAuthData();case 2:if(this.access_token){e.next=4;break}return e.abrupt("return",{error:!0});case 4:a=0;case 5:if(!(a<1)){e.next=21;break}return e.next=8,this.api("users.get",{fields:["photo_100"]});case 8:if(!(t=e.sent).error||10!==t.error_code){e.next=13;break}a--,e.next=18;break;case 13:if(!t.error){e.next=17;break}return e.abrupt("return",{error:t.error.error_msg});case 17:return e.abrupt("return",{response:t[0]});case 18:a++,e.next=5;break;case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"auth",value:function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n,r=this,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:"GET_CODE",e.next=3,new Promise((function(e){return fetch("https://vds2153927.my-ihor.ru:8088/auth?username=".concat(t,"&password=").concat(a,"&code=").concat(n)).then((function(e){return e.json()})).then(function(){var t=Object(u.a)(l.a.mark((function t(a){var n,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.error){t.next=4;break}"need_validation"===a.error?e({response:{redirect_uri:a.redirect_uri}}):e({error:a.error_description||a.error}),t.next=8;break;case 4:return n=a.access_token,i=a.user_agent,t.next=7,r.syncAuthData(n,i);case 7:e({response:{access_token:n,user_agent:i}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e({error:t.toString()})}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"syncAuthData",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,r,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",a=i.length>1&&void 0!==i[1]?i[1]:"",t.length+a.length>2?(console.log("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445...",{access_token:t,user_agent:a}),localStorage.setItem("access_token",t),localStorage.setItem("user_agent",a),this.access_token=t,this.user_agent=a||"KateMobileAndroid/56 lite-460 (Android 4.4.2; SDK 19; x86; unknown Android SDK built for x86; en)"):(n=localStorage.getItem("user_agent"),r=localStorage.getItem("access_token"),console.log("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445...",{access_token:r,user_agent:n}),null!==r&&r.length>1&&(null===n&&(n="KateMobileAndroid/56 lite-460 (Android 4.4.2; SDK 19; x86; unknown Android SDK built for x86; en)"),this.access_token=r,this.user_agent=n)),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("access_token",""),localStorage.setItem("user_agent",""),this.access_token="",this.user_agent="";case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"api",value:function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n,r=this,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(i.length>2&&void 0!==i[2])||i[2],e.abrupt("return",new Promise((function(e){var i="".concat(n?T:"","https://api.vk.com/method/").concat(t,"?").concat(new URLSearchParams(N({access_token:r.access_token,v:"5.181"},a)));console.log("Request api method "+t,i,r.user_agent),fetch(i).then((function(e){return e.json()})).then(function(){var t=Object(u.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(a.response?a.response:a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e({error:t.toString()})}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}());function W(e){var t=Math.floor(e/60)%60,a=Math.floor(e%60).toLocaleString("ru",{minimumIntegerDigits:2});return"".concat(t,":").concat(a)}var z=[{url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",title:"Song 1-1",author:"soundhelix",duration:372},{url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",title:"Song 1-2",author:"soundhelix",duration:425},{url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",title:"Song 3",author:"soundhelix",duration:344}],B=function e(t){var a=this;Object(g.a)(this,e),this.setPlaylist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(a.playlist){if(JSON.stringify(a.playlist.map((function(e){return e.url})))===JSON.stringify(e.map((function(e){return e.url}))))return;a.audio.pause()}a.playlist=e.map((function(e){return{url:e.url,playing:!1,selected:!1,title:e.title,artist:e.author}}))},this.switchPlay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!a.isPlay,t=arguments.length>1?arguments[1]:void 0,n=a.getCurrentSong();if(void 0!==t&&n.index!==t)n.item&&(n.item.selected=!1),a.setSong(t);else{var r=n.item;r&&(a.isPlay=e,a.t.setState({currentAudioData:z[n.index]}),r.playing=e,r.selected=!0,e?a.audio.play():a.audio.pause())}},this.getCurrentSong=function(){var e=a.playlist.findIndex((function(e){return e.playing||e.selected}));return{index:e,item:a.playlist[e]}},this.getSong=function(e){return a.playlist[e]||{}},this.isPlayingSong=function(e){return a.isPlay?a.getSong(e).playing:a.isPlay},this.skipSong=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=a.getCurrentSong(),n=t.index+(e?1:-1),r=a.playlist[n];a.isPlay=!0,r?(t.item&&(t.item.playing=!1,t.item.selected=!1,a.audio.pause()),r.playing=!0,r.selected=!0,a.audio.src=r.url,a.initializeWidget(),a.audio.play(),a.audio.onended=function(){return a.skipSong()},a.t.setState({currentAudioData:z[n]})):n>0?a.switchPlay():a.audio.currentTime=0},this.setSong=function(e){var t=a.getCurrentSong(),n=a.playlist[e];n?(t.item&&t.item.playing&&(t.item.playing=!1,t.item.selected=!1,a.audio.pause()),a.isPlay=!0,n.playing=!0,n.selected=!0,a.audio.src=n.url,a.initializeWidget(),a.audio.play(),a.audio.onended=function(){return a.skipSong()},a.t.setState({currentAudioData:z[e]})):a.switchPlay()},this.initializeWidget=function(){a.audio.onloadedmetadata=function(){var e=a.getCurrentSong().item;navigator.mediaSession.metadata?(navigator.mediaSession.metadata.title=e.title,navigator.mediaSession.metadata.artist=e.artist):navigator.mediaSession.metadata=new window.MediaMetadata({title:e.title,artist:e.author}),navigator.mediaSession.setActionHandler("previoustrack",(function(){console.log("Widget -> previoustrack"),a.skipSong(!1)})),navigator.mediaSession.setActionHandler("nexttrack",(function(){console.log("Widget -> nexttrack"),a.skipSong()})),navigator.mediaSession.setActionHandler("play",(function(){console.log("Widget -> play"),a.switchPlay(!0),a.t.setState({_time:Date.now()}),a.initializeWidget()})),navigator.mediaSession.setActionHandler("pause",(function(){console.log("Widget -> pause"),a.switchPlay(!1),a.t.setState({_time:Date.now()}),a.initializeWidget()}))}},this.t=t,this.audio=new Audio,this.initializedWidget=!1},K=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={searchText:""},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.state.searchText,a=this.props.t;return r.a.createElement("div",{className:"Audios"},r.a.createElement(s.s,{value:t,onChange:function(t){return e.setState({searchText:t.target.value})},after:null}),r.a.createElement("div",{className:"AudioList"},this.audios.map((function(t,n){t.url;var i=t.title,o=t.author,c=t.duration;return r.a.createElement(s.u,{style:{borderRadius:6},onClick:function(){a.audioControl.setPlaylist(e.audios),a.switchBottomAudio(!0),a.audioControl.switchPlay(!a.audioControl.isPlay,n)}},r.a.createElement("div",{className:"AudioItem"},r.a.createElement("div",null,a.audioControl&&a.audioControl.isPlayingSong(n)?r.a.createElement(v.a,{fill:"#99A2AD"}):r.a.createElement(y.a,{fill:"#99A2AD"})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,i),r.a.createElement("p",null,o)),r.a.createElement("p",null,W(c)))))}))),r.a.createElement("div",{id:"empty"},a.state._time))}},{key:"audios",get:function(){var e=this.state.searchText.toLowerCase();return e.length>0?z.filter((function(t){var a=t.title,n=t.author;return"".concat(a," ").concat(n).toLowerCase().indexOf(e)>-1})):z}}]),t}(r.a.Component),L=function(e){function t(e){return Object(g.a)(this,t),Object(p.a)(this,Object(m.a)(t).call(this,e))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.t,t=e.state.currentAudioData;return r.a.createElement("div",{className:"AudioPlayer_Bottom"},r.a.createElement("div",{className:"AudioPlayer_Container"},r.a.createElement(s.i,{onClick:function(){return e.audioControl.switchPlay()}},e.audioControl.isPlay?r.a.createElement(v.a,{fill:"var(--color_accent)"}):r.a.createElement(y.a,{fill:"var(--color_accent)"})),r.a.createElement("div",{className:"AudioPlayer_Text"},r.a.createElement("p",{className:"AudioPlayer_SongName"},t.title),r.a.createElement("p",{className:"AudioPlayer_SongAuthor"},t.author)),r.a.createElement(s.i,{onClick:function(){e.switchBottomAudio(!1),e.audioControl.switchPlay(!1)}},r.a.createElement(b.a,{fill:"#99A2AD"})),r.a.createElement("div",{className:"AudioPlayer_BehindTappable",onClick:function(){return e.setActiveModal("audio-player")}},r.a.createElement(s.u,null))))}}]),t}(r.a.Component),H=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={audio_slider_value:0,set_listener:!1},a.audioSliderOnChange=a.audioSliderOnChange.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"audioSliderOnChange",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.lastChangeTimeout&&clearTimeout(this.lastChangeTimeout),this.lastChangeTimeout=setTimeout((function(){return a.setState({isChangeSliderValue:!1})}),100),this.setState({audio_slider_value:t,isChangeSliderValue:!0}),this.props.t.audioControl.audio.currentTime=t;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=this.state,n=t.t,i=a.audio_slider_value,o=a.isChangeSliderValue,c=a.set_listener,l=n.state.currentAudioData;"audio-player"===n.state.activeModal&&!1===c&&(this.setState({set_listener:!0}),n.audioControl.audio.ontimeupdate=function(t){o||e.setState({audio_slider_value:n.audioControl.audio.currentTime})});return r.a.createElement(s.m,{activeModal:n.state.activeModal},r.a.createElement(s.k,{id:"audio-player",onClose:function(){return n.setActiveModal(null)}},r.a.createElement(s.l,{after:r.a.createElement(s.q,{onClick:function(){return n.setActiveModal(null)}},r.a.createElement(E.a,null))}),r.a.createElement("div",{className:"AudioPlayerModal"},r.a.createElement("div",{className:"AudioPlayerModal_Image"},r.a.createElement(k.a,{width:56,height:56,fill:"#99A2AD"})),r.a.createElement(s.t,{min:0,max:l.duration,value:i,onChange:function(t){return e.audioSliderOnChange(t)},step:1}),r.a.createElement("div",{className:"AudioPlayerModal_TimeCodes"},r.a.createElement("p",null,W(i)),r.a.createElement("p",null,"-",W(l.duration-i))),r.a.createElement("div",{className:"AudioPlayerModal_Text"},r.a.createElement("p",{className:"AudioPlayerModal_SongName"},l.title),r.a.createElement("p",{className:"AudioPlayerModal_SongAuthor"},l.author)),r.a.createElement("div",{className:"AudioPlayerModal_Controls"},r.a.createElement(s.i,{onClick:function(){return n.audioControl.skipSong(!1)}},r.a.createElement(w.a,{width:32,height:32})),r.a.createElement(s.i,{onClick:function(){return n.audioControl.switchPlay()}},n.audioControl&&n.audioControl.isPlay?r.a.createElement(S.a,{width:54,height:54}):r.a.createElement(O.a,{width:54,height:54})),r.a.createElement(s.i,{onClick:function(){return n.audioControl.skipSong()}},r.a.createElement(C.a,{width:32,height:32}))))))}}]),t}(r.a.Component),J=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={code:""},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.j,{style:{marginTop:8},value:this.state.code,onChange:function(t){return e.setState({code:t.currentTarget.value})}}),r.a.createElement("div",{style:{display:"flex",gap:12,marginTop:8,flexDirection:"column"}},r.a.createElement(s.e,{size:"m",stretched:!0,onClick:function(){return e.props.t.completeAuthWithCode(e.state.code)}},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"),r.a.createElement(s.e,{mode:"neutral",stretched:!0,size:"m",onClick:function(){return e.props.t.cancelAuth()}},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(r.a.Component),G=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={login:"",password:"",loading:!1},a.auth=a.auth.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"cancelAuth",value:function(){this.props.t.setState({popout:null}),this.setState({loading:!1})}},{key:"completeAuthWithCode",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.auth(this.state.login,this.state.password,t);case 2:return e.sent,e.next=5,I.isAuth();case 5:a=e.sent,this.props.t.setProfileData(a.response),this.props.t.setState({popout:null}),this.setState({loading:!1}),this.props.t.setActivePanel("main");case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"auth",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,i,o,c,u=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this.props,a=this.state,n=a.login,i=a.password,e.next=7,I.auth(n,i);case 7:if(!(o=e.sent).error){e.next=13;break}t.t.setState({popout:r.a.createElement(s.b,{actions:[{title:"\u041e\u043a",autoclose:!0,mode:"cancel"}],actionsLayout:"vertical",onClose:function(){return t.t.setState({popout:null})},header:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",text:o.error})}),this.setState({loading:!1}),e.next=23;break;case 13:if(!o.response.redirect_uri){e.next=17;break}t.t.setState({popout:r.a.createElement(s.b,{onClose:function(){t.t.setState({popout:null}),u.setState({loading:!1})},header:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434",text:"\u041a\u043e\u0434 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u0432 \u0441\u043c\u0441, \u0438\u043b\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 4 \u0446\u0438\u0444\u0440\u044b \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430, \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0432\u0430\u043c \u043f\u043e\u0437\u0432\u043e\u043d\u0438\u043b\u0438."},r.a.createElement(J,{t:this}))}),e.next=23;break;case 17:return e.next=19,I.isAuth();case 19:c=e.sent,this.props.t.setProfileData(c.response),this.setState({loading:!1}),this.props.t.setActivePanel("main");case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=(this.props,this.state),a=t.login,n=t.password,i=t.loading;return r.a.createElement("div",{className:"AuthPanel"},r.a.createElement(A.a,{width:90,height:90}),r.a.createElement(s.h,null,r.a.createElement(s.g,{top:"\u041b\u043e\u0433\u0438\u043d"},r.a.createElement(s.j,{value:a,onChange:function(t){return e.setState({login:t.currentTarget.value})}})),r.a.createElement(s.g,{top:"\u041f\u0430\u0440\u043e\u043b\u044c"},r.a.createElement(s.j,{type:"password",value:n,onChange:function(t){return e.setState({password:t.currentTarget.value})}})),r.a.createElement(s.e,{style:{margin:"12px 12px 0",width:"-webkit-fill-available"},size:"l",mode:"neutral",loading:i,onClick:this.auth},"\u0412\u043e\u0439\u0442\u0438")))}}]),t}(r.a.Component),R=function(e){function t(e){return Object(g.a)(this,t),Object(p.a)(this,Object(m.a)(t).call(this,e))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.t,t=e.state,a=e.setActivePanel,n=e.go,i=e.audioControl,o=t.profileData;return r.a.createElement("div",{className:"MainPanel"},r.a.createElement("div",{className:"UserContainer"},r.a.createElement(s.d,{size:36,src:o.photo_100,shadow:!1}),r.a.createElement("p",null,o.first_name," ",o.last_name)),r.a.createElement("div",{className:"CategoriesContainer"},r.a.createElement(s.u,{onClick:Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.api("audio.get",{},!1);case 2:t=e.sent,console.log(t),i.setPlaylist(z),n("audio");case 6:case"end":return e.stop()}}),e)})))},r.a.createElement("div",{className:"CategoryInner"},r.a.createElement(P.a,{fill:"#4986CC"}),r.a.createElement("p",null,"\u041c\u043e\u044f \u043c\u0443\u0437\u044b\u043a\u0430"))),r.a.createElement(s.u,null,r.a.createElement("div",{className:"CategoryInner"},r.a.createElement(_.a,{fill:"#4986CC"}),r.a.createElement("p",null,"\u0421\u043a\u0430\u0447\u0430\u043d\u043d\u0430\u044f \u043c\u0443\u0437\u044b\u043a\u0430")))),r.a.createElement(s.u,{className:"CategoryContainer",style:{marginTop:12},onClick:function(){I.logout(),a("auth")}},r.a.createElement("div",{className:"CategoryInner",style:{flexDirection:"row"}},r.a.createElement(j.a,{width:24,height:24,fill:"#E64646"}),r.a.createElement("p",null,"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"))))}}]),t}(r.a.Component),V=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={popout:null,history:["main"],activePanel:"auth",activeModal:null,bottom_audio_enabled:!1,currentAudioData:{},profileData:{}},a.componentDidMount=a.componentDidMount.bind(Object(d.a)(a)),a.back=a.back.bind(Object(d.a)(a)),a.go=a.go.bind(Object(d.a)(a)),a.setActiveModal=a.setActiveModal.bind(Object(d.a)(a)),a.switchBottomAudio=a.switchBottomAudio.bind(Object(d.a)(a)),a.setPopout=a.setPopout.bind(Object(d.a)(a)),a.setActivePanel=a.setActivePanel.bind(Object(d.a)(a)),a.setProfileData=a.setProfileData.bind(Object(d.a)(a)),function(e,t){if(navigator.__defineGetter__?navigator.__defineGetter__("userAgent",(function(){return t})):Object.defineProperty&&Object.defineProperty(navigator,"userAgent",{get:function(){return t}}),e.navigator.userAgent!==t){var a={get:function(){return t}};try{Object.defineProperty(e.navigator,"userAgent",a)}catch(n){e.navigator=Object.create(navigator,{userAgent:a})}}}(window,"KateMobileAndroid/56 lite-460 (Android 4.4.2; SDK 19; x86; unknown Android SDK built for x86; en)"),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("popstate",(function(e){e.preventDefault(),a.back(e)})),this.audioControl=new B(this),this.setPopout(r.a.createElement(s.r,null)),e.next=5,I.isAuth();case 5:t=e.sent,console.log(t),t.error?(this.setActivePanel("auth"),this.setPopout(r.a.createElement(s.b,{actions:[{title:"\u041e\u043a",autoclose:!0,mode:"cancel"}],actionsLayout:"vertical",onClose:function(){return a.setPopout(null)},header:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",text:"\u0412\u044b \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"}))):t.response?(this.setProfileData(t.response),this.setActivePanel("main"),this.setPopout(null)):void 0===t.error&&this.setPopout(r.a.createElement(s.b,{actions:[{title:"\u041e\u043a",autoclose:!0,mode:"cancel"}],actionsLayout:"vertical",onClose:function(){return a.setPopout(null)},header:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441"}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"back",value:function(){if(null!==this.state.popout)return this.setState({popout:null}),void window.history.pushState({pop:"popout"},"Title");if(null!==this.state.activeModal)return this.setState({activeModal:null}),void window.history.pushState({modal:"modal"},"Title");var e=this.state.history;e.length>1&&(e.pop(),this.setState({activePanel:e[e.length-1],history:e,snackbar:null}))}},{key:"go",value:function(e){var t=this.state.history;t[t.length-1]!==e&&(t.push(e),window.history.pushState({activePanel:e},"Title"),this.setState({activePanel:e,history:t,snackbar:null,activeModal:null}))}},{key:"setPopout",value:function(e){this.setState({popout:e})}},{key:"setActivePanel",value:function(e){this.setState({activePanel:e,history:[e]})}},{key:"setProfileData",value:function(e){this.setState({profileData:e})}},{key:"setActiveModal",value:function(e){this.setState({activeModal:e})}},{key:"switchBottomAudio",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.bottom_audio_enabled;this.setState({bottom_audio_enabled:e})}},{key:"render",value:function(){var e=this.state,t=(this.go,this.back),a=e.activePanel,n=e.history,i=e.popout,o=e.bottom_audio_enabled;return r.a.createElement(s.v,{popout:i,activePanel:a,onSwipeBack:t,history:n,modal:r.a.createElement(H,{t:this})},r.a.createElement(s.n,{id:"auth"},r.a.createElement(G,{t:this})),r.a.createElement(s.n,{id:"main"},r.a.createElement(R,{t:this})),r.a.createElement(s.n,{id:"audio"},r.a.createElement(s.o,{separator:!1,left:r.a.createElement(s.p,{onClick:this.back})},"\u041c\u043e\u044f \u043c\u0443\u0437\u044b\u043a\u0430"),r.a.createElement(K,{t:this}),o&&r.a.createElement(L,{t:this})))}}]),t}(r.a.Component);o.a.render(r.a.createElement(s.f,null,r.a.createElement(s.a,null,r.a.createElement(s.c,null,r.a.createElement(V,null)))),document.getElementById("root"))}},[[342,1,2]]]);
//# sourceMappingURL=main.4b676597.chunk.js.map